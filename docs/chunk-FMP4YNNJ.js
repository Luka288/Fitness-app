import{a as Q}from"./chunk-IFKB7OOB.js";import{a as R}from"./chunk-434A3UT7.js";import{b as W,g as U}from"./chunk-FM6GJ4KO.js";import{a as z,b as I,c as $,d as V,e as H,g as O,h as j,j as K,k as B,l as L,m as q,n as G,p as J}from"./chunk-DPVUG3HT.js";import{o as A}from"./chunk-IB7F6B6N.js";import{Da as a,Ma as P,R as E,Ra as C,Tb as v,Ub as N,Vb as h,X as f,Xa as k,Ya as m,Yb as y,ab as M,eb as c,fb as r,gb as u,jb as T,kb as d,o as x,pb as p,qa as F,rb as g,vb as D}from"./chunk-WI2OL4WN.js";var S={push_ups:{MET:8,calculate:t=>{let n=t.reps*t.sets,e=t.kg,o=n*3/60,i=8*3.5*e*o/200;return{totalReps:n,burnedCalories:parseFloat(i.toFixed(2)),activityName:"Push ups"}}},bodyweight_squats:{MET:6,calculate:t=>{let n=t.reps*t.sets,e=t.kg,o=n*2.5/60,i=6*3.5*e*o/200;return{totalReps:n,burnedCalories:parseFloat(i.toFixed(2)),activityName:"Bodyweight Squats"}}},pull_up:{MET:9,calculate:t=>{let n=t.reps*t.sets,e=t.kg,o=n*4/60,i=9*3.5*e*o/200;return{totalReps:n,burnedCalories:parseFloat(i.toFixed(2)),activityName:"Pull ups"}}},morning_run:{calculate:t=>{let n=t.time,e=t.timeUnit==="MINUTE"?n/60:n,o=t.timeUnit==="HOUR"?n*60:n,i=t.distance/e,l=0,s="";i<6?(l=6,s="Very Light"):i<8?(l=8.3,s="Light"):i<10?(l=10,s="Moderate"):i<12?(l=11.8,s="Vigorous"):(l=14.5,s="Very Vigorous");let b=l*3.5*t.kg*o/200;return{speed:i,burnedCalories:parseFloat(Math.round(b).toFixed(2)),MET:s,activityName:"Morning Run",time:`${t.time} ${t.timeUnit}`,distance:Number(t.distance),unit:t.unit}}},cycling:{calculate:t=>{let n=t.time,e=t.timeUnit==="MINUTE"?n/60:n,o=t.timeUnit==="HOUR"?n*60:n,i=t.distance/e,l=0,s="";i<6?(l=6,s="Very Light"):i<8?(l=8.3,s="Light"):i<10?(l=10,s="Moderate"):i<12?(l=11.8,s="Vigorous"):(l=14.5,s="Very Vigorous");let b=l*3.5*t.kg*o/200;return{speed:i,burnedCalories:parseFloat(Math.round(b).toFixed(2)),MET:s,activityName:"Cycling",time:`${t.time} ${t.timeUnit}`,distance:Number(t.distance),unit:t.unit}}},plank_hold:{MET:4,calculate:t=>{let n=t.timeUnit==="HOUR"?t.time*60:t.time;return{burnedCalories:S.plank_hold.MET*3.5*t.kg*n/200,time:`${t.time} ${t.timeUnit}`,activityName:"Plank Hold"}}}};var _=class t{workoutService=f(Q);alertService=f(A);processWorkoutData(n,e){let i=S[n];if(!i)return this.alertService.toast("Something went wrong","error","red"),x([]);if(i.calculate){let l=i.calculate(e);return this.workoutService.saveData(l),x([l])}return x([])}static \u0275fac=function(e){return new(e||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};function et(t,n){if(t&1&&(c(0,"p"),u(1,"i",4),p(2),r()),t&2){let e=d();a(2),g(" Effort: ",e.calculatedData.MET," ")}}function nt(t,n){if(t&1&&(c(0,"p"),u(1,"i",5),p(2),r()),t&2){let e=d();a(2),g(" Time: ",e.calculatedData.time," ")}}var w=class t{calculateService=f(_);calculatedData;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=P({type:t,selectors:[["app-activity-info"]],inputs:{calculatedData:[0,"data","calculatedData"]},decls:9,vars:6,consts:[["id","dataSection",3,"ngClass"],[3,"ngClass"],[1,"fa-solid","fa-fire-flame-curved"],[4,"ngIf"],[1,"fa-solid","fa-person-running"],[1,"fa-solid","fa-clock"]],template:function(e,o){e&1&&(c(0,"section",0)(1,"p"),u(2,"i",1),p(3),r(),c(4,"p"),u(5,"i",2),p(6),r(),C(7,et,3,1,"p",3)(8,nt,3,1,"p",3),r()),e&2&&(m("ngClass",o.calculatedData?"active":""),a(2),m("ngClass",o.calculatedData.speed?"fa-solid fa-gauge-high":"fa-solid fa-repeat"),a(),g(" ",o.calculatedData.speed?`Avg Speed: ${o.calculatedData.speed} Km/h`:`Reps: ${o.calculatedData.totalReps}`," "),a(3),g(" Burned Calories: ",o.calculatedData.burnedCalories," KCAL "),a(),m("ngIf",o.calculatedData.MET),a(),m("ngIf",o.calculatedData.time))},dependencies:[y,v,h],styles:['#dataSection[_ngcontent-%COMP%]{width:90%;max-width:550px;opacity:0;margin:auto;font-family:Inter,"Sans-Serif";font-size:22px;transition:all .2s;border-radius:13px}#dataSection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:22px;margin:0}#dataSection[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{text-align:center}#dataSection[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0;margin:0}#dataSection.active[_ngcontent-%COMP%]{transition:all .2s;max-height:fit-content;opacity:1}#dataSection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:350}#dataSection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .fa-gauge-high[_ngcontent-%COMP%]{color:orange}#dataSection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .fa-fire-flame-curved[_ngcontent-%COMP%]{color:red}#dataSection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .fa-person-running[_ngcontent-%COMP%]{color:green}#dataSection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .fa-clock[_ngcontent-%COMP%]{color:#00f}@media (max-width: 425px){.main-content[_ngcontent-%COMP%]{padding:0!important;margin-left:0!important}}']})};var it=(t,n)=>({errBorder:t,filled:n});function ot(t,n){t&1&&(c(0,"div",3)(1,"div",10),u(2,"i",11),p(3," Enter your workout stats to see detailed calculations. "),r()())}function at(t,n){if(t&1&&u(0,"app-activity-info",12),t&2){let e=n.$implicit;m("data",e)}}function rt(t,n){t&1&&(c(0,"select",15)(1,"option",18),p(2,"KM"),r(),c(3,"option",19),p(4,"Miles"),r()())}function ct(t,n){t&1&&(c(0,"select",16)(1,"option",20),p(2,"HOUR"),r(),c(3,"option",21),p(4,"MINUTES"),r()())}function lt(t,n){if(t&1&&(c(0,"p"),p(1),r()),t&2){let e=d(2).$implicit;a(),g("",e," is required")}}function st(t,n){if(t&1&&(c(0,"p"),p(1),r()),t&2){let e=d(2).$implicit;a(),g("",e," cannot be 0 Km")}}function pt(t,n){if(t&1&&(c(0,"div",22),C(1,lt,2,1,"p")(2,st,2,1,"p"),r()),t&2){let e,o=d().$implicit,i=d();a(),M(!((e=i.metricInputControl.get(o))==null||e.errors==null)&&e.errors.required?1:!((e=i.metricInputControl.get(o))==null||e.errors==null)&&e.errors.min?2:-1)}}function mt(t,n){if(t&1&&(c(0,"div",13)(1,"label"),p(2),r(),u(3,"input",14),C(4,rt,5,0,"select",15)(5,ct,5,0,"select",16)(6,pt,3,1,"div",17),r()),t&2){let e,o,i=n.$implicit,l=n.index,s=d();a(),k("for","workoutInput"+l),a(),g(" ",i," "),a(),m("placeholder",i)("formControlName",i)("ngClass",D(10,it,((e=s.metricInputControl.get(i))==null?null:e.errors)&&((e=s.metricInputControl.get(i))==null?null:e.touched),(e=s.metricInputControl.get(i))==null?null:e.value)),k("id","workoutInput"+l)("name",i),a(),M(i==="distance"?4:-1),a(),M(i==="time"?5:-1),a(),m("ngIf",((o=s.metricInputControl.get(i))==null?null:o.errors)&&((o=s.metricInputControl.get(i))==null?null:o.touched))}}var Y=class t{router=f(W);calculateService=f(_);workout;calculatedData=F([]);metricInputControl=new H({});ngOnInit(){let n=this.router.snapshot.paramMap.get("id");this.workout=R.find(e=>e.id===n),this.metricInputControl.addControl("activityName",new O(n)),this.workout?.metrics.forEach(e=>{this.metricInputControl.addControl(e,new O("",[I.required,I.min(1)])),e==="distance"&&this.metricInputControl.addControl("unit",new O("KM")),e==="time"&&this.metricInputControl.addControl("timeUnit",new O("HOUR"))})}saveWorkout(){let n=this.router.snapshot.paramMap.get("id");if(this.metricInputControl.invalid){Object.values(this.metricInputControl.controls).forEach(e=>{e.markAsTouched()});return}this.getCalculations(n,this.metricInputControl.value),this.metricInputControl.reset({unit:"KM",timeUnit:"HOUR"})}getCalculations(n,e){this.calculateService.processWorkoutData(n,e)?.subscribe(o=>{this.calculatedData.set(o)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=P({type:t,selectors:[["ng-component"]],decls:17,vars:4,consts:[["id","main-wrapper"],["id","summarry"],[1,"container-title"],[1,"nothing"],[1,"workout-data"],[3,"data",4,"ngFor","ngForOf"],["id","form-side"],[3,"ngSubmit","formGroup"],["id","workout-input",4,"ngFor","ngForOf"],["type","submit"],[1,"text"],[1,"fa-solid","fa-lock"],[3,"data"],["id","workout-input"],["type","text",3,"placeholder","formControlName","ngClass"],["name","","id","","formControlName","unit"],["name","","id","","formControlName","timeUnit"],["class","errC",4,"ngIf"],["value","KM"],["value","MILES"],["value","HOUR"],["value","MINUTES"],[1,"errC"]],template:function(e,o){e&1&&(c(0,"main")(1,"section",0)(2,"aside",1)(3,"div",2)(4,"h1"),p(5,"Workout summarry"),r()(),C(6,ot,4,0,"div",3),c(7,"section",4),C(8,at,1,1,"app-activity-info",5),r()(),c(9,"aside",6)(10,"form",7),T("ngSubmit",function(){return o.saveWorkout()}),c(11,"div",2)(12,"h1"),p(13,"Workout Form"),r()(),C(14,mt,7,13,"div",8),c(15,"button",9),p(16,"Calculate and save"),r()()()()()),e&2&&(a(6),M(o.calculatedData().length===0?6:-1),a(2),m("ngForOf",o.calculatedData()),a(2),m("formGroup",o.metricInputControl),a(4),m("ngForOf",o.workout==null?null:o.workout.metrics))},dependencies:[U,y,v,N,h,J,j,q,G,z,L,$,V,K,B,w],styles:['main[_ngcontent-%COMP%]{width:100%;height:100%}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;border-radius:16px;gap:30px}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #summarry[_ngcontent-%COMP%]{width:100%;max-width:750px;height:600px;border-right:2px solid #ccc;box-sizing:border-box;box-shadow:0 4px 12px #0000000f;border:1px solid rgba(0,0,0,.04);background-color:#fff;padding:20px}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #summarry[_ngcontent-%COMP%]   .nothing[_ngcontent-%COMP%]{width:75%;height:65px;margin:120px auto auto;display:flex;justify-content:center}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #summarry[_ngcontent-%COMP%]   .nothing[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:fit-content;height:auto;font-family:Inter,"Sans-Serif";display:flex;justify-content:center;align-items:center;flex-wrap:wrap;flex-direction:row;gap:10px}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]{width:100%;max-width:450px;height:600px;box-sizing:border-box;box-shadow:0 4px 12px #0000000f;border:1px solid rgba(0,0,0,.04);background-color:#fff;padding:20px}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;gap:30px}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]{width:100%;position:relative}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;text-transform:capitalize;font-family:Inter,"Sans-Serif"}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:650px;height:54px;border:none;border-radius:3px;outline:none;padding:10px 80px 10px 10px;border-bottom:3px solid blue;background-color:#f1f1f1;transition:all .4s;box-sizing:border-box;margin-top:10px}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:3px solid green;transition:all .4s}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   input.filled[_ngcontent-%COMP%]{border-bottom:3px solid green;transition:all .4s}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   input.errBorder[_ngcontent-%COMP%]{border-bottom:3px solid red;transition:all .4s}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:14px;font-weight:400;text-transform:capitalize;font-family:Inter,"Sans-Serif"}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   .errC[_ngcontent-%COMP%]{text-transform:capitalize;padding:0;margin:0;font-size:15px;font-family:Inter,"Sans-Serif";color:red;transition:all .2s}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   .errC[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #workout-input[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:70px;outline:none;border:none;background-color:transparent;position:absolute;margin-top:25px;font-size:15px;right:0}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:150px;padding:10px;background-color:#4b4bdf;color:#fff;outline:none;border:none;cursor:pointer;transition:all .2s;border-radius:3px;margin:auto}main[_ngcontent-%COMP%]   #main-wrapper[_ngcontent-%COMP%]   #form-side[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#8a8adf;transition:all .2s}main[_ngcontent-%COMP%]   .container-title[_ngcontent-%COMP%]{font-size:20px;text-align:center;font-family:Inter,"Sans-Serif"}main[_ngcontent-%COMP%]   .container-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0;margin:0}']})};export{Y as WorkoutDetailComponent};
